!function(n){function e(n,e){for(var t in e)n[t]=n[t]||e[t]}function t(n){var e=Object.keys(n).map(function(e){return[e,encodeURIComponent(n[e])].join("=")});return"?"+e.join("&")}function o(n,o,i,u,s){return i.method=n,i.headers=i.headers||{},i.responseAs=i.responseAs&&["json","text"].indexOf(i.responseAs)>=0?i.responseAs:"json",e(i.headers,{Accept:"application/json","Content-Type":"application/json"}),s&&(o+=t(s)),u&&(i.body=JSON.stringify(u)),r.fetch(o,i).then(function(n){if(n.status>=200&&n.status<300)return n[i.responseAs]();var e=new Error(n.statusText);throw e.response=n,e})}function r(n,t){t=t||{};var i=function(o,i){return o=n+"/"+o,i=i||{},e(i,t),r(o,i)};return i.get=function(e){return o("GET",n,t,null,e)},i.post=function(e){return o("POST",n,t,e)},i.put=function(e){return o("PUT",n,t,e)},i.patch=function(e){return o("PATCH",n,t,e)},i["delete"]=function(){return o("DELETE",n,t)},i}r.fetch="undefined"!=typeof fetch?fetch.bind(n):null,"object"==typeof exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):n.fetchival=r}("undefined"!=typeof window?window:void 0);